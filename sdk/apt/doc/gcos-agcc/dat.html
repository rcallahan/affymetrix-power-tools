<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>
      Affymetrix Developer Network
    </title>
    <link href="css/styles.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
	<div id="wrapper">
		<div id="page">
			<div id="header">
				<img alt="Affymetrix.com" src="images/header_banner.jpg" />
			</div>
			<div id="content">
			
			<h1>Affymetrix® DAT Data File Format</h1>

		<h2>DAT FILE</h2>
	

 
	

<p><b>Description</b></p>
<p>The DAT file contains pixel intensity values collected from an Affymetrix scanner.</p>

<p>The information below will describe the following versions:</p>
	<ul>
    <li><a href="#calvin">Version 1 format</a> is generated by the MAS and GCOS 1.x software.</li>
    <li><a href="#V1">Command Console version 1</a> is generated by the Command Console software. This is stored in the Command Console "<a href="generic.html">generic</a>" data file format.</li>
	</ul>
 

<p><b><a name="calvin">Version 1 Format</a></b></p>
<p>The file is a binary file with a 512 byte header followed by 16 bit unsigned integer pixel intensity values. Values are stored in little-endian format.</p>

<p><b>Header</b></p>
<p>The 512 byte header contains the following information:</p>

<table> 
<tbody><tr> <th><b>Item</b></th><th><b>Description</b></th><th><b>Type</b></th></tr> 
<tr> <td height="14" width="110">1</td><td height="14" width="70%">Type of file, 
must be 0xFC.</td><td height="14" width="214">BYTE</td></tr> <tr> <td height="14" width="110">2</td><td height="14" width="70%">Number 
of pixels per line.</td><td height="14" width="214">WORD</td></tr> <tr> <td height="14" width="110">3</td><td height="14" width="70%"> 
Number of lines in the image.</td><td height="14" width="214">WORD</td></tr> <tr> 
<td height="14" width="110"> 4</td><td height="14" width="70%">The total number 
of data points (pixels) in the image.</td><td height="14" width="214">DWORD</td></tr> 
<tr> <td height="14" width="110"> 5</td><td height="14" width="70%">Minimum pixel 
value in the image.</td><td height="14" width="214"> DWORD</td></tr> <tr> <td height="14" width="110"> 
6</td><td height="14" width="70%"> Maximum pixel value in the image.</td><td height="14" width="214">DWORD</td></tr> 
<tr> <td height="14" width="110"> 7</td><td height="14" width="70%">Mean pixel 
value.</td><td height="14" width="214"> double</td></tr> <tr> <td height="14" width="110"> 
8</td><td height="14" width="70%"> Standard deviation of the pixel values</td><td height="14" width="214">double</td></tr> 
<tr> <td height="14" width="110"> 9</td><td height="14" width="70%">Number of 
pixels per row (padded with spaces), preceded with "CLS=".</td><td height="14" width="214">char[9]</td></tr> 
<tr> <td height="14" width="110"> 10</td><td height="14" width="70%">Number of 
rows in the image (padded with spaces), preceded with "RWS=".</td><td height="14" width="214">char[9]</td></tr> 
<tr> <td height="14" width="110"> 11</td><td height="14" width="70%">Pixel width 
in micrometers (padded with spaces), preceded with "XIN="</td><td height="14" width="214">char[7]</td></tr> 
<tr> <td height="14" width="110"> 12</td><td height="14" width="70%">Pixel height 
in micrometers (padded with spaces), preceded with "YIN=".</td><td height="14" width="214">char[7]</td></tr> 
<tr> <td height="14" width="110"> 13</td><td height="14" width="70%">Scan speed 
in millimeters per second (padded with spaces), preceded with "VE=".</td><td height="14" width="214"> 
char[6]</td></tr> <tr> <td height="14" width="110"> 14</td><td height="14" width="70%"> 
Temperature in degrees Celsius (padded with spaces). If no temperature was set 
then the entire field is empty.</td><td height="14" width="214">char[7]</td></tr> 
<tr> <td height="14" width="110"> 15</td><td height="14" width="70%">Laser power 
in milliwatts or microwatts (padded with spaces.</td><td height="14" width="214">char[4]</td></tr> 
<tr> <td height="14" width="110"> 16</td><td height="14" width="70%">Date and 
time of scan (padded with spaces).</td><td height="14" width="214"> char[18]</td></tr> 
<tr> <td height="14" width="110"> 17</td><td height="14" width="70%"> <p style="line-height: normal;" class="MsoNormal">There are several sub-fields in this field. The 
first sub field is the scanner ID, sometimes&nbsp; followed by a number, followed 
by three spaces. If the scanner ID is absent, the field consists of four spaces.</p><p style="line-height: normal;" class="MsoNormal">Next are 10 structured comment fields. Each field 
is preceded by the delimiter 0x14 and a space. The field is followed by a space 
and 0x14. Only field two is valid, the other 9 fields are obsolete. Field 2 contains 
the probe array type, followed by .1sq. The 1sq extension is also obsolete.</p><p style="line-height: normal;" class="MsoNormal">Next (after the last structured field) there is 
the chip orientation preceded by a space.</p><p><span style="font-size: 10pt; line-height: 150%; font-family: Arial;">The 
rest of the field is filled with nulls (zeros)</span></p></td><td height="14" width="214"> 
char[220]</td></tr> <tr> <td height="14" width="110"> 18</td><td height="14" width="70%"> 
<span style="font-size: 10pt; line-height: 150%; font-family: Arial;">Average DC 
Offset of the scanner for this image.</span></td><td height="14" width="214"> 
double</td></tr> <tr> <td height="14" width="110"> 19</td><td height="14" width="70%"> 
Standard deviation of the average DC offset.</td><td height="14" width="214"> 
double</td></tr> <tr> <td height="14" width="110"> 20</td><td height="14" width="70%"> 
Number of samples taken in determining the DC offset.</td><td height="14" width="214"> 
DWORD</td></tr> <tr> <td height="14" width="110"> 21</td><td height="14" width="70%"> 
Coordinates of the grid's upper left corner.</td><td height="14" width="214"> 
POINTS</td></tr> <tr> <td height="14" width="110"> 22</td><td height="14" width="70%"> 
Coordinates of the grid's upper right corner.</td><td height="14" width="214"> 
POINTS</td></tr> <tr> <td height="14" width="110"> 23</td><td height="14" width="70%"> 
Coordinates of the grid's lower right corner.</td><td height="14" width="214"> 
POINTS</td></tr> <tr> <td height="14" width="110"> 24</td><td height="14" width="70%"> 
Coordinates of the grid's lower left corner.</td><td height="14" width="214"> 
POINTS</td></tr> <tr> <td height="14" width="110"> 25</td><td height="14" width="70%"> 
Cell margin used for computing the cells intensity value.</td><td height="14" width="214"> 
WORD</td></tr> <tr> <td height="14" width="110"> 26</td><td height="14" width="70%"> 
Name of the experiment padded with nulls.</td><td height="14" width="214"> char[154]</td></tr> 
</tbody></table>
<p>Types used are defined as: BYTE (An 8-bit unsigned integer), SHORT (A 16-bit integer), WORD (A 16-bit unsigned integer), DWORD (A 32-bit unsigned integer), double (An 64-bit floating-point number), char (8-bit character) and POINTS (A structure that defines coordinates of a point. The contents of the structure are two SHORT values describing the X and Y values of the coordinate).</p>

<p><b>Data</b></p>
<p>The pixel intensity data is stored following the header at byte 512. Intensity values are stored as 16 bit unsigned integer values. Data is stored by rows.</p>

<p><b><a name="#V1">Command Console Format</a></b></p>
<p>The format of the DAT file generated by the Command Console software uses the Command Console <a href="generic.html">generic</a> data format. The following describes the data sets and groups in the file.</p>

<p>The generic data header shall include:</p>

    <p>The data type identifier is set to "affymetrix-calvin-scan-acquisition"</p>

    <p>The parameters stored in the file include:</p>
	
	<table>
		<tbody><tr>
			<th><b>Parameter Name</b></th>
			<th><b>Definition</b></th>
		</tr>
		<tr>
			<td>affymetrix-array-type</td>
			<td>The probe array type.</td>
		</tr>
		<tr>
			<td>affymetrix-pixel-size</td>
			<td>The pixel size.</td>
		</tr>
			<tr><td>affymetrix-scanner-type</td>
			<td>The scanner type. e.g. M10 for the GCS3000 high resolution scanner.</td>
		</tr>
			<tr><td>affymetrix-scanner-id</td>
			<td>The scanner ID</td>
		</tr>
			<tr><td>affymetrix-scan-date</td>
			<td>The date of the scan.</td>
		</tr>
			<tr><td>affymetrix-pixel-rows</td>
			<td>The number of rows of pixels.</td>
		</tr>
		<tr>
			<td>affymetrix-pixel-cols</td>
			<td>The number of columns of pixels.</td>
		</tr>
		<tr>
			<td>affymetrix-partial-dat-header</td>
			<td>DAT header string without min and max intensity. Present if this 
			is a native Command Console DAT file.</td>
		</tr>
		<tr>
			<td>affyemtrix-max-pixel-intensity</td>
			<td>Max pixel intensity.&nbsp; Present if this is a native Command 
			Console 
			DAT file.</td>
		</tr>
		<tr>
			<td>affymetrix-min-pixel-intensity</td>
			<td>Min pixel intensity. Present if this is a native Command Console DAT 
			file.</td>
		</tr>
		<tr>
			<td>affymetrix-full-dat-header</td>
			<td>Full DAT header string.&nbsp; Present if this is a DAT file 
			converted from GCOS.</td>
		</tr>
		<tr>
			<td>affymetrix-image-orientation</td>
			<td>A code indicating the orientation of the image.</td>
		</tr>
		<tr>
			<td>affymetrix-file-version</td>
			<td>File version.</td>
		</tr>
		<tr>
			<td>affymetrix-image-flip-flag</td>
			<td>Indicates if the image has been flipped about the y-axis.</td>
		</tr>
		</tbody></table>
		
		<p>Array file parameters (if available) will be stored within the parent data header object.  Parameters include:</p>
		
		<table>
		<tbody><tr>
			<th><b>Parameter Name</b></th>
			<th><b>Definition</b></th>
		</tr>
		<tr>
			<td>affymetrix-array-id</td>
			<td>A GUID that identifies the array.</td>
		</tr>
		<tr>
			<td>affymetrix-array-barcode</td>
			<td>The array barcode.</td>
		</tr>
		</tbody></table>
		
		<p>The data is stored in a single group with 4 data sets. The data sets are defined as:</p>
		
		<table>
		<tbody><tr>
			<th><b>Data Set Name</b></th>
			<th><b>Description</b></th>
			<th><b>Number of Columns</b></th>
			<th><b>Column Name</b></th>
			<th><b>Column Type</b></th>
			<th><b>Description</b></th>
		</tr>
		<tr>
			<td>Pixel</td>
			<td>The intensity values for each pixel.</td>
			<td>1</td>
			<td>Pixel</td>
			<td>USHORT</td>
			<td>The pixel intensities.</td>
		</tr>
		<tr>
			<td>Stats</td>
			<td>The minimum and maximum pixel value.</td>
			<td>2</td>
			<td>Min Intensity<br>Max Intensity</td>
			<td>USHORT<br>USHORT</td>
			<td>The minimum pixel value.<br>The 
			maximum pixel value.</td>
		</tr>
		<tr>
			<td>GlobalGrid</td>
			<td>The status of the grid and the 4 corners that define the global grid.</td>
			<td>9</td>
			<td><p>GridStatus</p><p>Upper left x<br>Upper left y</p><p>Upper 
			right x<br>Upper right y</p><p>Lower right x<br>Lower right y</p><p>
			Lower left x<br>Lower left y</p></td>
			<td><p>UINT</p><p>FLOAT<br>FLOAT</p><p>FLOAT<br>FLOAT</p><p>FLOAT<br>FLOAT</p><p>FLOAT<br>FLOAT</p></td>
			<td>
			<p>The status of the grid. OK=1, Error=2, Manual Adjust=4</p>
			<p>The X coordinate of the upper left corner<br>The Y coordinate of the upper left corner</p>
			<p>
			The X coordinate of the upper right corner<br>The Y coordinate of the upper right corner</p>
			<p>The X coordinate of the lower right corner<br>The Y coordinate of the lower right corner</p>
			<p>The X coordinate of the lower left corner<br>The Y coordinate of the lower 
			left corner</p></td>
		</tr>
		<tr>
			<td>Subgrid</td>
			<td>The status of the grid and the 4 corners that define each sub-grid.</td>
			<td>9</td>
			<td><p>GridStatus</p><p>Upper left x<br>Upper left y</p><p>Upper 
			right x<br>Upper right y</p><p>Lower right x<br>Lower right y</p><p>
			Lower left x<br>Lower left y</p></td>
			<td><p>UINT</p><p>FLOAT<br>FLOAT</p><p>FLOAT<br>FLOAT</p><p>FLOAT<br>FLOAT</p><p>FLOAT<br>FLOAT</p></td>
			<td>The status of the grid. OK=1, Error=2, Manual Adjust=4<p>The X coordinate of the upper left corner<br>The Y coordinate of the upper left corner</p>
			<p>
			The X coordinate of the upper right corner<br>The Y coordinate of the upper right corner</p>
			<p>The X coordinate of the lower right corner<br>The Y coordinate of the lower right corner</p>
			<p>The X coordinate of the lower left corner<br>The Y coordinate of the lower 
			left corner</p></td>
		</tr>
		</tbody></table>
		
			</div>
			<div id="footer">
				&#169; 2009 Affymetrix, Inc. All rights reserved.
			</div>
		</div>
	</div>
  </body>
</html>