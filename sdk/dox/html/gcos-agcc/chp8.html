<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>
      Affymetrix Developer Network
    </title>
    <link href="css/styles.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
	<div id="wrapper">
		<div id="page">
			<div id="header">
				<img alt="Affymetrix.com" src="images/header_banner.jpg" />
			</div>
			<div id="content">
			
			<h1>CHP FILE</h2>
			
			<h2>Historical Format</h2>
			
<p>The format of the CHP file is an binary file were values are stored in little-endian format. Defined below is for CHP files generated by algorithm in MAS 5.0 and above. CHP files generated in older versions of software are not described below.</p>

<p>The file contents are define by:</p>

<table> 
<tbody><tr>
	<th><b>Item</b></th>
	<th><b>Description</b></th>
	<th><b>Type</b></th>
</tr> 
<tr>
	<td height="14" width="110">1</td>
	<td height="14" width="70%">Label. Always set to "GeneChip Sequence File".</td>
	<td height="14" width="214">char[22]</td>
</tr>
<tr>
	<td height="14" width="110">2</td>
	<td height="14" width="70%">Version number. 12 for MAS 5 CHP files, 13 for 
    GCOS 1.0 CHP files.</td>
	<td height="14" width="214">integer</td>
</tr> 
<tr>
	<td height="14" width="110">3</td>
	<td height="14" width="70%"> Algorithm name length.</td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">4</td>
	<td height="14" width="70%"> Algorithm name.</td>
	<td height="14" width="214">char[ length defined above]</td>
</tr>
<tr>
	<td height="14" width="110">5</td>
	<td height="14" width="70%"> Algorithm version length. <font color="#ff0000">
	Not available in v8. Only in &gt;= 10</font></td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">6</td>
	<td height="14" width="70%"> Algorithm version.<font color="#ff0000"> Not 
	available in v8. only in &gt;= 10</font></td>
	<td height="14" width="214">char[ length defined above]</td>
</tr>
<tr>
	<td height="14" width="110">7</td>
	<td height="14" width="70%"> Algorithm parameters length.</td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">8</td>
	<td height="14" width="70%"> Algorithm parameters (the string is a space 
    delimited TAG=VALUE list of algorithm parameters). </td>
	<td height="14" width="214">char[ length defined above]</td>
</tr>
<tr>
	<td height="14" width="110">9</td>
	<td height="14" width="70%"> Algorithm summary length.<font color="#ff0000"> 
	Not available in v8. only in &gt;= 10</font></td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">10</td>
	<td height="14" width="70%"> Algorithm summary values (the string is a space 
    delmited TAG=VALUE list of summary values). An example of a summary value is 
    "RawQ".<font color="#ff0000"> Not available in v8. only in &gt;= 10</font></td>
	<td height="14" width="214">char[ length defined above]</td>
</tr>
<tr>
	<td height="14" width="110">11</td>
	<td height="14" width="70%"> The number of rows (of features) in the array.</td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">12</td>
	<td height="14" width="70%"> The number of columns (of features) in the 
    array.</td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">13</td>
	<td height="14" width="70%"> The number of probe sets defined in the array.</td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">14</td>
	<td height="14" width="70%"> A value that defines the maximum probe set 
    number in the array. The probe set number is not displayed or used by the 
    software and will be deprecated in future versions.</td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">15</td>
	<td height="14" width="70%"> The number of QC probe sets stored in the file.</td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">16</td>
	<td height="14" width="70%"> The probe set number for each probe set in the 
    array. This information is not displayed or used by the software and will be 
    deprecated in future versions.</td>
	<td height="14" width="214">integer[ number of probe sets]</td>
</tr>
<tr>
	<td height="14" width="110">17</td>
	<td height="14" width="70%"> The number of probe pairs in each probe set. If 
    the max probe set number is greater than the number of probe sets, the value 
    is 0 for the array entries after the number of probe sets.</td>
	<td height="14" width="214">integer[ maximum probe set number] </td>
</tr>
<tr>
	<td height="14" width="110">18</td>
	<td height="14" width="70%"> An indicator to the type of probe set 
    (expression, genotyping, etc.).&nbsp; See the definition of 
UnitType in the CDF section. If the max probe set number is greater than the 
    number of probe sets, the value is 0 for the array entries after the number 
    of probe sets.</td>
	<td height="14" width="214">integer[ maximum probe set number]</td>
</tr>
<tr>
	<td height="14" width="110">19</td>
	<td height="14" width="70%"> The number of probes per element of a probe 
    set. This value is 2 for expression tiles indicating probe pairs.</td>
	<td height="14" width="214">integer[ number of probe sets]</td>
</tr>
<tr>
	<td height="14" width="110">20</td>
	<td height="14" width="70%"> Probe array type</td>
	<td height="14" width="214">char[ 256]</td>
</tr>
<tr>
	<td height="15" width="110">21</td>
	<td height="15" width="70%"> Parent CEL file name.</td>
	<td height="15" width="214">char[ 256]</td>
</tr>
<tr>
	<td height="14" width="110">22</td>
	<td height="14" width="70%"> Programmatic identifier length.</td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">23</td>
	<td height="14" width="70%"> Programmatic identifier of the COM component 
    that implements the algorithm.</td>
	<td height="14" width="214">char[ length defined above]</td>
</tr>
<tr>
	<td height="14" width="110">24</td>
	<td height="14" width="70%"> Probe set results. This item is repeated for 
    each probe set in the array.</td>
	<td height="14" width="214">see table below.</td>
</tr>
<tr>
	<td height="14" width="110">25</td>
	<td height="14" width="70%"> Resequencing array results</td>
	<td height="14" width="214">see table below.</td>
</tr>
<tr>
	<td height="14" width="110">26</td>
	<td height="14" width="70%"> QC probe set information. This item is repeated 
    for each QC probe set in the array.</td>
	<td height="14" width="214">see table below.</td>
</tr>
</tbody></table>

<p><b>Probe Set Results (Expression)</b></p>
<p>The following table defines the results for an expression probe set.</p>

<table> 
<tbody><tr>
	<th><b>Item</b></th>
	<th><b>Description</b></th>
	<th><b>Type</b></th>
</tr> 
<tr>
	<td height="14" width="110">1</td>
	<td height="14" width="70%">The number of probe pairs.</td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">2</td>
	<td height="14" width="70%">The number of probe pairs used by the algorithm.</td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">3</td>
	<td height="14" width="70%">Unused* <font color="#ff0000">For version 
	version &gt;= 7 and &lt;= 12 this value is the number of probe pairs post 
	processing.</font></td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">4</td>
	<td height="14" width="70%">The number of probe pairs used by the algorithm 
    (repeated). <font color="#ff0000">version &lt; 12 Positive Score</font></td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">5</td>
	<td height="14" width="70%">Unused* <font color="#ff0000">version &lt;= 12, 
	negative score</font></td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">6</td>
	<td height="14" width="70%">Unused* <font color="#ff0000">version &lt;= 12, 
	PMExcess</font></td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">7</td>
	<td height="14" width="70%">Unused* <font color="#ff0000">version &lt;= 12, 
	MMExcess (for version &lt; 12 skip the remaining items and goto the MAS4 table 
	below)</font></td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">8</td>
	<td height="14" width="70%">Detection p-value</td>
	<td height="14" width="214">float</td>
</tr>
<tr>
	<td height="14" width="110">9</td>
	<td height="14" width="70%">Unused*</td>
	<td height="14" width="214">float</td>
</tr>
<tr>
	<td height="14" width="110">10</td>
	<td height="14" width="70%">Signal</td>
	<td height="14" width="214">float</td>
</tr>
<tr>
	<td height="14" width="110">11</td>
	<td height="14" width="70%">Detection (0 - present, 1 - marginal, 2 - 
    absent, 3 - no call).</td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">12</td>
	<td height="14" width="70%">Probe pair data, repeated for each probe pair in 
    the set:<p>Background - float
    <br>Flag indicating if the pair is used in the analysis (0 - not used, 2 - 
    used) - integer<br>PM X coordinate -  integer (version 12), unsigned short (version 13)
    <br>PM Y coordinate -  integer (version 12), unsigned short (version 13)
    <br>PM intensity - float*<br>PM stdev - float*<br>PM pixel count - integer*
    <br>PM masked - char*<br>PM outlier - char*<br>
    MM X coordinate -  integer (version 12), unsigned short (version 13)
    <br>MM Y coordinate -  integer (version 12), unsigned short (version 13)
    <br>MM intensity - float*<br>MM stdev - float*<br>MM pixel count - integer*<br>
    MM masked - char*<br>MM outlier - char*</p></td>
	<td height="14" width="214">see description</td>
</tr>
<tr>
	<td height="14" width="110">13</td>
	<td height="14" width="70%">Comparison analysis results exists flag.</td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">14</td>
	<td height="14" width="70%">Comparison analysis results (only if exists).<p>
    Number of probe pairs in common - integer<br>
    Unused* - integer<br>
    Unused* - integer<br>
    Unused* - integer<br>
    Change (1 - increase, 2 - decrease, 3 - moderate increase, 4 - moderate 
    decrease, 5 - no change, 6 - no call) - integer<br>
    Baseline absent flag - char<br>
    Unused*&nbsp; - char<br>
    Unused* - integer<br>
    Unused* - integer<br>
    Signal log ratio high - float**<br>
    Unused - integer<br>
    Unused* - integer<br>
    Signal log ratio - float**<br>
    Unused* - integer<br>
    Signal log ratio low - float**<br>
    Change p-value&nbsp; - float ** (version 12) or float (version 13)</p></td>
	<td height="14" width="214">see description</td>
</tr>
</tbody></table>

<p>* Only stored in version 12 files.</p>
<p>** The floating point value is stored as an integer. Divide the integer value by 1000 to obtain the floating point value.</p>

<p>MAS4</p>

<p>AverageRatio (float)**</p>

<p>LogAverageRatio (float)**</p>

<p>AverageIntensityDifference (float)**</p>

<p>Call (integer) ( 0 = P, 1 = M, 2 = A )</p>

<p>For each probe  pair:</p>

    <p>- background (float**)</p>

    <p>- Use pair flag (int) 0 - not used, 1 - unknown, 2 - used</p>

        <ul>
		<li>* PM X (int)</li>
        <li>* PM Y (int)</li>
        <li>* PM Intensity (float**)</li>
        <li>* PM Stdv (float**)</li>
        <li>* PM pixels (integer)</li>
        <li>* PM masked flag (version >= 8)</li>
        <li>* PM outlier flag (version >= 8)</li>
		</ul>

    <p>- repeat above for MM probe.</p>

<p>end probe pair loop:</p>

<p>Comparison analysis results exists f lag (integer)</p>

<p>If comparison data exists then the following is stored:</p>

    <p class="indent">positive increase (int)</p>

    <p class="indent">negative decrease (int) (version <= 12)</p>

    <p class="indent">positive delta (int) (version <= 12)</p>

    <p class="indent">negative delta (int) (version <= 12)</p>

    <p class="indent">diff call (int) 0=unknown, 1=increase, 2=decrease, 3=moderate inc, 4=moderate decrease, 5=no change</p>

    <p class="indent">baseline is absent flag (char)</p>

    <p class="indent">average difference rounding flag (char) (version <= 12)</p>

    <p class="indent">ratio positive pairs (float**) (version <= 12)</p>

    <p class="indent">ratio negative pairs (float **) (version <= 12)</p>

    <p class="indent">avg ratio delta (float**)</p>

    <p class="indent">avg intensity difference (float**)</p>

    <p class="indent">change in average intensity difference (float**) (version <= 12)</p>

    <p class="indent">average difference ratio (float**)</p>

    <p class="indent">log average ratio change (float**) (version <= 12)</p>

    <p class="indent">score delta ratio (float**)</p>

    <p class="indent">sort score (float ** for version < 12)</p>

	
<p><b>QC Probe Set Information</b></p>
<p>The following table defines information for a QC probe set.</p>

<table> 
<tbody><tr>
	<th><b>Item</b></th>
	<th><b>Description</b></th>
	<th><b>Type</b></th>
</tr> 
<tr>
	<td height="14" width="110">1</td>
	<td height="14" width="70%">Number of probes in the set.</td>
	<td height="14" width="214">integer</td>
</tr>
<tr>
	<td height="14" width="110">2</td>
	<td height="14" width="70%">The type of QC probe set. See the CDF file 
    section for details on the type.</td>
	<td height="14" width="214">integer</td>
</tr> 
<tr>
	<td height="14" width="110">3</td>
	<td height="14" width="70%"> Probe information, repeated for each probe in 
    the set, consisting of:<p>X coordinate on array - integer
    <br>Y coordinate on array - integer
    <br>Intensity value from CEL file - float
        <font color="#ff0000">** for version &lt; 11</font><br>Stdev value from CEL file - float&nbsp;
	<font color="#ff0000">** for version &lt; 11</font><br>Number of pixels from CEL file - integer
        <br>Background value - float <font color="#ff0000">Not available in v8. 
	only in &gt;= 12</font></p></td>
	<td height="14" width="214">see description</td>
</tr>
</tbody></table>

<p>Types used are defined as: integer (A 32-bit signed integer), float (An 32-bit floating-point number), short (16-bit signed integer) and char (8-bit character).</p>
<p><font color="#ff0000">** The floating point value is stored as an integer. Divide the integer value by 1000 to obtain the floating point value.</font></p>

			</div>
			<div id="footer">
				&#169; 2009 Affymetrix, Inc. All rights reserved.
			</div>
		</div>
	</div>
  </body>
</html>